webpackJsonp([5],{P7ry:function(e,s,o){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var r=o("vMJZ"),n={data:function(){var e=this;return{loginForm:{username:"",password:""},signupForm:{username:"",password:"",passwordConfirm:"",contact:"",sex:null,intro:""},signupRules:{username:[{required:!0,message:"用户名不能为空"},{min:3,max:15,message:"长度在3到15个字符"}],password:[{required:!0,message:"密码不能为空"},{min:3,max:15,message:"长度在3到15个字符"}],passwordConfirm:[{required:!0,message:"请确认密码"},{validator:function(s,o,r){o!==e.signupForm.password&&r(new Error("密码输入不一致")),r()},trigger:"change"}]},showLogin:!0,sexOptions:[{value:null,label:""},{value:0,label:"男"},{value:1,label:"女"}]}},methods:{toIndexPage:function(){this.$router.push("/")},handleLogin:function(){var e=this,s={username:this.loginForm.username,password:this.loginForm.password};Object(r.a)(s).then(function(s){console.log(s),null!==s&&(e.$store.commit("setUser",s),e.$router.back())})},handleSignup:function(){var e=this;this.$refs.signupForm.validate(function(s){if(s){var o={username:e.signupForm.username,password:e.signupForm.password,contact:e.signupForm.contact,sex:e.signupForm.sex};Object(r.c)(o).then(function(s){!0===s&&(e.loginForm.username=o.username,e.loginForm.password=o.password,e.showLogin=!0,e.$message({showClose:!0,message:"注册成功",type:"success"}))})}})}}},a={render:function(){var e=this,s=e.$createElement,o=e._self._c||s;return o("div",[o("el-card",{staticClass:"form_card"},[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[e._v(e._s(e.showLogin?"登录":"注册"))]),e._v(" "),o("el-button",{staticClass:"back_btn",attrs:{type:"text"},on:{click:e.toIndexPage}},[e._v("返回主页")])],1),e._v(" "),o("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showLogin,expression:"showLogin"}],ref:"loginForm",attrs:{"label-position":"left","label-width":"100px",model:e.loginForm}},[o("el-form-item",{attrs:{label:"用户名/昵称",prop:"username"}},[o("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.loginForm.username,callback:function(s){e.$set(e.loginForm,"username",s)},expression:"loginForm.username"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"密码",prop:"password"}},[o("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.loginForm.password,callback:function(s){e.$set(e.loginForm,"password",s)},expression:"loginForm.password"}})],1),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.handleLogin}},[e._v("登录")]),e._v(" "),o("el-button",{on:{click:function(s){e.showLogin=!1}}},[e._v("注册")])],1),e._v(" "),o("el-form",{directives:[{name:"show",rawName:"v-show",value:!e.showLogin,expression:"!showLogin"}],ref:"signupForm",attrs:{rules:e.signupRules,"label-position":"left",model:e.signupForm,"label-width":"100px","status-icon":""}},[o("el-form-item",{attrs:{label:"用户名/昵称",prop:"username"}},[o("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.signupForm.username,callback:function(s){e.$set(e.signupForm,"username",s)},expression:"signupForm.username"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"密码",prop:"password"}},[o("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.signupForm.password,callback:function(s){e.$set(e.signupForm,"password",s)},expression:"signupForm.password"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"确认密码",prop:"passwordConfirm"}},[o("el-input",{attrs:{type:"password",placeholder:"请确认密码"},model:{value:e.signupForm.passwordConfirm,callback:function(s){e.$set(e.signupForm,"passwordConfirm",s)},expression:"signupForm.passwordConfirm"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"联系方式",prop:"contact"}},[o("el-input",{attrs:{placeholder:"QQ/微信/手机"},model:{value:e.signupForm.contact,callback:function(s){e.$set(e.signupForm,"contact",s)},expression:"signupForm.contact"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"性别",prop:"contact"}},[o("el-select",{attrs:{placeholder:"请选择性别"},model:{value:e.signupForm.sex,callback:function(s){e.$set(e.signupForm,"sex",s)},expression:"signupForm.sex"}},e._l(e.sexOptions,function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.handleSignup}},[e._v("注册")]),e._v(" "),o("el-button",{on:{click:function(s){e.showLogin=!0}}},[e._v("返回登录")])],1)],1)],1)},staticRenderFns:[]};var t=o("VU/8")(n,a,!1,function(e){o("ek2H")},null,null);s.default=t.exports},ek2H:function(e,s){}});